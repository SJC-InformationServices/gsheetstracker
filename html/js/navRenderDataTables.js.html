<script type="text/javascript" async defer>
  function failedDataTable(x)  {
    
    var tbl=x.type,d=x.rec,attrib=x.attributes,a=[],editor;
    var dt = $('#'+tbl+'TABLE').DataTable({
      dom: "<'row'<'col-sm-3'B><'col-md-5'p><'col-sm-3'l>><'row'<'col-md-6'i><'col-md-4'f>><'row'<'col-md-12't>>",
      data:[],
      paging:false,
      processing:true,
      autowidth:false,
      deferRender: true,
      keys:true,
      select:{style:'single',items:'row',blurable:false},                                    
      idSrc:"UPC"
  });
  }
  function renderDataTable(x){
        
        var tbl=x.type,d=x.rec,attrib=x.attributes,a=[],editor;
        for(var i = 0;i<attrib.length;i++)
        {
          a.push({"name":attrib[i],"type":"text","label":attrib[i]});
        }
        var editorObject = {
          idSrc:"UPC",
          table:'#'+tbl+'TABLE',
          fields:a
        };
        switch(x.type)
        {
          case "TRACKING":
          break;
          case "IMAGES":
          break;
          case "PRODUCTS":
          break;
          case "OFFERS":
          break;
        }


      editor = new $.fn.dataTable.Editor(editorObject);      
  
      var dt = $('#'+tbl+'TABLE').DataTable({
      dom: "<'row'<'col-sm-3'B><'col-md-5'p><'col-sm-3'l>><'row'<'col-md-6'i><'col-md-4'f>><'row'<'col-md-12't>>",
      ajax:{url:"https://script.google.com/a/stjoseph.com/macros/s/AKfycbx-uK4T9fjkJHiAgqouwqSnUXW1UVGW1XRyq9nO6RcGjNOlpomO/exec/?request="+tbl,dataType:"jsonp"},    
      serverSide: true,
      paging:true,
      processing:true,
      autowidth:false,
      deferRender: true,
      keys:true,
      select:{style:'single',items:'row',blurable:false},                                    
      idSrc:"ID",
      buttons: [
			"excel",
			{ extend: 'create', editor: editor },
			{ extend: 'edit',   editor: editor },
			{ extend: 'remove', editor: editor }
		]
  });
  



  return true;
};
  </script>